<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Report Card</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f8f9fa; margin: 0; padding: 0; }
    header { background: teal; color: white; padding: 15px; text-align: center; }
    .container { padding: 20px; max-width: 700px; margin: auto; }
    input { padding: 8px; margin: 5px; width: 100px; text-align: center; }
    button { padding: 10px 20px; margin-top: 15px; cursor: pointer; border: none; border-radius: 6px; }
    .submit-btn { background: teal; color: white; }
    .submit-btn:hover { background: darkcyan; }
    .logout-btn { background: crimson; color: white; margin-left: 10px; }
    .logout-btn:hover { background: darkred; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    table, th, td { border: 1px solid #ccc; }
    th, td { padding: 10px; text-align: center; }
    th { background: #f0f0f0; }
    .analysis { margin-top: 20px; padding: 15px; background: #fff; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.1); }
  </style>
  <script>
    // Redirect to login.html if not logged in
    if (!sessionStorage.getItem("loggedIn")) {
      window.location.href = "login.html";
    }

    function logout() {
      sessionStorage.removeItem("loggedIn");
      window.location.href = "login.html";
    }

    function calculateGrades() {
      const subjects = ["Maths", "Science", "English", "Computer", "Social Science"];
      let marks = [];
      let total = 0;

      for (let i = 1; i <= 5; i++) {
        let val = parseInt(document.getElementById("sub" + i).value);
        if (isNaN(val) || val < 0 || val > 100) {
          alert("Please enter valid marks (0-100) for all subjects");
          return;
        }
        marks.push(val);
        total += val;
      }

      let avg = total / 5;
      let grade;
      if (avg >= 90) grade = "A+";
      else if (avg >= 80) grade = "A";
      else if (avg >= 70) grade = "B+";
      else if (avg >= 60) grade = "B";
      else if (avg >= 50) grade = "C";
      else grade = "F";

      // Generate marks table
      let table = "<table><tr><th>Subject</th><th>Marks</th></tr>";
      for (let i = 0; i < subjects.length; i++) {
        table += `<tr><td>${subjects[i]}</td><td>${marks[i]}</td></tr>`;
      }
      table += `<tr><th>Total</th><td>${total}</td></tr>`;
      table += `<tr><th>Average</th><td>${avg.toFixed(2)}</td></tr>`;
      table += `<tr><th>Grade</th><td>${grade}</td></tr>`;
      table += "</table>";
      document.getElementById("result").innerHTML = table;

      // Grade analysis
      let analysis = `<h3>ðŸ“Š Grade Analysis</h3>
        <p><b>Total Marks:</b> ${total}</p>
        <p><b>Average Marks:</b> ${avg.toFixed(2)}</p>
        <p><b>Final Grade:</b> ${grade}</p>`;
      document.getElementById("analysis").innerHTML = analysis;
    }
  </script>
</head>
<body>
  <header>
    <h1>ðŸ“Š Smart Report Card</h1>
  </header>

  <div class="container">
    <h2>Enter Your Marks</h2>
    <div>
      <input type="number" id="sub1" placeholder="Maths">
      <input type="number" id="sub2" placeholder="Science">
      <input type="number" id="sub3" placeholder="English">
      <input type="number" id="sub4" placeholder="Computer">
      <input type="number" id="sub5" placeholder="Social Science">
    </div>
    <button class="submit-btn" onclick="calculateGrades()">Generate Report</button>
    <button class="logout-btn" onclick="logout()">Logout</button>

    <div id="result"></div>
    <div id="analysis" class="analysis"></div>
  </div>
</body>
</html>
